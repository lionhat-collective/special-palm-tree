<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/src/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
    <style>
      header {
        display: flex;
        justify-content: space-between;
      }
      .observer-realRevenue-positive {
        background-color: green;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <div>
      <header>
        <div>
          <h1>Income</h1>
          <h3 id='real-revenue'></h3>
        </div>
        <div>
          <h1>Remaining to be allocated</h1>
          <h3 id='percent-remaining'></h3>
        </div>
        <div>
          <h1>Profit Remaining</h1>
          <h3 id='profit-remaining'></h3>
        </div>
      </header>
      <header id="allocation-section"></header>
      <header id="profit-section"></header>
      <div id="income"></div>
      <div id="materials"></div>
      <div id="profit"></div>
      <div id="owner-pay"></div>
      <div id="tax"></div>
      <div id="operating-expense"></div>
      <div>
        <div id="account-1"></div>
        <div id="account-2"></div>
        <div id="account-3"></div>
      </div>
      <div>
        <ul>
          <li>
            <span>Into Profit: $<span id='intoProfit'></span></span>
          </li>
          <li>
            <span>Into Owner: $<span id='intoOwner'></span></span>
          </li>
          <li>
            <span>Into Tax: $<span id='intoTax'></span></span>
          </li>
          <li>
            <span>Into Operating Expense: $<span id='intoOperatingExpense'></span></span>
          </li>
          <li>
            <span>Account 1: $<span id='intoAccounts-1'></span></span>
          </li>
          <li>
            <span>Account 2: $<span id='intoAccounts-2'></span></span>
          </li>
          <li>
            <span>Account 3: $<span id='intoAccounts-3'></span></span>
          </li>
        </ul>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>
    <script type='text/javascript'>
      window.addEventListener('load', function() {
        window.profitCalculator('root', {
          income: ['income', {
            label: 'Income Received',
            placeholder: 'Enter income received'
          }],
          materialCost: ['materials', {
            label: 'Materials and Subcontractors',
            placeholder: 'ex. 1000'
          }],
          profitPercentage: ['profit', {
            label: 'Profit'
          }],
          ownerPayPercentage: ['owner-pay', {
            label: 'Owner Pay'
          }],
          taxPercentage: ['tax', {
            label: 'Tax'
          }],
          operatingExpensePercentage: ['operating-expense', {
            label: 'Operating Expense'
          }],
          accounts: [
            ['account-1', {
              label: 'Account 1'
            }],
            ['account-2', {
              label: 'Account 2'
            }],
            ['account-3', {
              label: 'Account 3'
            }]
          ],
          observers: [
            ['real-revenue', {
              name: 'realRevenue'
            }],
            ['percent-remaining', {
              name: 'percentageRemaining'
            }],
            ['profit-remaining', {
              name: 'profitRemaining'
            }],
            ['intoProfit', {
              name: 'intoProfit'
            }],
            ['intoOwner', {
              name: 'intoOwner'
            }],
            ['intoTax', {
              name: 'intoTax'
            }],
            ['intoOperatingExpense', {
              name: 'intoOperatingExpense'
            }],
            ['intoAccounts-1', {
              name: 'intoAccounts.1'
            }],
            ['intoAccounts-2', {
              name: 'intoAccounts.2'
            }],
            ['intoAccounts-3', {
              name: 'intoAccounts.3'
            }],
          ]
        })
      });
    </script>
  </body>
</html>
